window.addEventListener("load",(function(){firebase.initializeApp({apiKey:"AIzaSyC_Q6NGnDyKd8WM7e4yxg757_yB-g7QsRo",authDomain:"tusl-5a507.firebaseapp.com",projectId:"tusl-5a507",appId:"1:775259817894:web:a3cc3e8dcdb656619b7167"});const e=firebase.firestore();$("#waitlist-form").length&&document.getElementById("waitlist-form").addEventListener("submit",(async function(t){t.preventDefault();const r=document.getElementById("email").value,a=document.querySelector('input[name="platform"]:checked').value;try{const t=await e.collection("waitlist").add({email:r,platform:a,timestamp:firebase.firestore.FieldValue.serverTimestamp()});localStorage.setItem("waitlistDocId",t.id),window.location.href="/success.html"}catch(e){console.error("Error registering in Firestore:",e)}})),$("#referral-form").length&&document.getElementById("referral-form").addEventListener("submit",(async function(t){t.preventDefault();const r=localStorage.getItem("waitlistDocId");if(!r)return;const a=Array.from(document.querySelectorAll(".referral-input")).map((e=>e.value.trim())).filter((e=>e.length>0));try{await e.collection("waitlist").doc(r).update({referrals:a}),$(".success-form").fadeIn()}catch(e){console.error("Error saving referrals:",e)}}));let t=new Set;gsap.set("[data-fade]",{opacity:0,y:20});let r=new IntersectionObserver((e=>{const a=e.filter((e=>e.isIntersecting&&!t.has(e.target))).map((e=>e.target));a.length>0&&(gsap.to(a,{opacity:1,y:0,stagger:.15,ease:"power2.out",duration:.5,delay:.3}),a.forEach((e=>{t.add(e),r.unobserve(e)})))}),{threshold:.3});document.querySelectorAll("[data-fade]").forEach((e=>{r.observe(e)}))}));